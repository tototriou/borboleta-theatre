#!/bin/sh

# Bloquer les commits directs sur main
branch=$(git rev-parse --abbrev-ref HEAD)
if [ "$branch" = "main" ]; then
  echo "❌ Commit direct sur main interdit."
  echo "Crée une branche : git checkout -b feat/nom-feature"
  exit 1
fi

# Vérifier TypeScript et linting
cd website
npm run type-check || exit 1
npx lint-staged || exit 1
